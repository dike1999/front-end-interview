### Vue 生命周期

- Vue 实例从创建到销毁的过程，就是生命周期。
- 也就是：开始创建-初始化数据-编译模板-挂载 dom-数据更新重新渲染 dom-最后销毁。这一系列的过程就是 vue 的生命周期。所以 mounted 阶段真实的 dom 就已经存在了
- beforeCreate：vue 实例的挂在元素 el 和数据对象 data 都没有初始化，还是一个 undefined 状态
- created：此时 vue 实例的数据对象已经有了，可以访问里面的数据和方法，el 还没有，还没有挂载 dom
- beforeMount：在这里 vue 实例的元素 el 和数据对象都有了，只不过在挂载之前还是虚拟的 dom 节点
- mounted：vue 实例已经挂载到真实的 dom 上，可以通过对 dom 操作来获取 dom 节点
- beforeUpdate：响应式数据更新时调用，发生在虚拟 dom 打补丁之前，适合在更新之前访问现有的 dom，比如移除已添加的事件监听器
- updated：虚拟 dom 重新渲染和打补丁之后调用，组成新的 dom 已经更新，避免在这个钩子函数中操作数据，防止死循环
- beforeDestroy：vue 实例在销毁前使用，在这里还可以使用，通过 this 也能访问到实例，可以在这里对一些不用的定时器进行清除，解绑事件
- destroyed：vue 实例销毁后使用，调用后所有事件监听器都会被移除，所有的子实例都被销毁

### Vue.nextTick（）

- 官方解释：在下次 DOM 更新循环结束之后执行延迟回调。在修改数据之后立即使用这个方法，获取更新后的 DOM。
- 简单来说，Vue 在修改数据后，视图并不是立即更新，而是等同一事件循环中的所有数据变化完成之后，再统一进行视图更新。

### vue 数据双向绑定原理

- vue 数据双向绑定原理是通过数据劫持+发布者-订阅者模式来实现的。首先是对数据进行监听，然后当监听的属性发生改变时则告诉订阅者是否要更新，若更新则会执行对应的更新函数从而更新视图。
  ![双向绑定示意图](https://pic2.zhimg.com/80/v2-10f94b6de4ff367903ea4c8c8aa6e865_1440w.jpg)
- 我们已经知道实现数据的双向绑定，首先要对数据进行监听，所以我们需要设置一个监听器 observer，用来监听所有属性。如果属性上发生变化了，就需要告诉订阅者 watcher 是否需要进行更新。
- 实现一个订阅者 watcher，每个订阅者 watcher 都绑定一个更新函数，watcher 可以接受到属性的变化通知并执行相应的函数，从而更新函数。
- 实现一个解析器 compile，可以扫描每个节点的相关指令（v-model、v-on 等），如果存在这些，则解析器 compile 初始化这类节点的模板数据，使之可以显示在视图上，然后初始化相应的订阅者 watcher。

### Vuex

- vuex 是一个专门为 vue.js 应用程序开发的状态管理模式，通过一个集中的数据存储，方便程序中所有组件进行访问，简单来说，vuex 就是一个 vue 的状态管理工具
- vuex 有五个属性：state，getters，mutations，actions，modules
- state 就是数据源存放地，对应 vue 对象的 data，state 里面存储的数据是响应式的，state 发生改变，对应这个数据的组件也会改变，用 this.$store.xxx 调用
- getters 相当于 store 的计算属性，主要是对 state 中数据的过滤，用 this.$store.getters.xxx 调用
- mutations 存放处理数据逻辑的方法，当触发事件想改变 state 数据的时候调用 mutations，通过 this.$store.commit 调用
- actionis 异步操作数据，但是通过 mutations 来操作，用 this.$store.dispatch 来触发
- 使用场景：组件之间的状态，登录状态、加入购物车、音乐播放

### Axios

- Axios 是一个基于 promise 的 HTTP 库，简单的讲就是可以发送 get、post 请求。
- Axios 特性
  - 可以在浏览器中发送 XMLHttpRequests
  - 可以在 node.js 发送 http 请求
  - 支持 Promise API
  - 拦截请求和响应
  - 转换请求数据和响应数据
  - 能够取消请求
  - 自动转换 JSON 数据
  - 客户端支持保护安全免受 XSRF 攻击

### Vue-Router

- Vue Router 是 Vue.js 官方的路由管理器。它和 Vue.js 的核心深度集成，让构建单页面应用变得易如反掌。包含的功能有：
  - 嵌套的路由/视图表
  - 模块化的、基于组件的路由配置
  - 路由参数、查询、通配符
  - 基于 Vue.js 过渡系统的视图过渡效果
  - 细粒度的导航控制
  - 带有自动激活的 CSS class 的链接
  - HTML5 历史模式或 hash 模式，在 IE9 中自动降级
  - 自定义的滚动条行为
  - [vue-router 原理](https://zhuanlan.zhihu.com/p/57368777)

### Vue 中 data 为什么必须是一个函数

- vue 中的 data 必须是个函数，因为当 data 是函数时，组件实例化的时候这个函数将会被调用，返回一个对象，计算机会给这个对象分配一个内存地址，实例化几次就分配几个内存地址，他们的地址都不一样，所以每个组件中的数据不会相互干扰，改变其中一个组件的状态，其它组件不变
- 简单来说，就是为了保证组件的独立性和可复用性，如果 data 是个函数的话，每复用一次组件就会返回新的 data，类似于给每个组件实例创建一个私有的数据空间，保护各自的数据互不影响

### 说一下 http 和 https

> http 和 https 的基本概念

- http：超文本传输协议，是互联网上应用最为广泛的一种网络协议，建立在 TCP 之上，用于从服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。
- https：是以安全为目标的 http 通道，即 http 和 tcp 之间加入 ssl 层。它的主要作用是：建立一个信息安全通道，来确保数据的传输，确保网站的安全性

> http 和 https 的区别

- http 的传输数据都是未加密的，也就是明文传输，网景公司设置了 ssl 协议来对 http 协议传输的数据进行加密，简单来说 https 协议是由 http 协议和 ssl 协议构建的可进行加密传输和身份认证的网络协议，比 http 协议的安全性更高
- 主要的区别如下：
- - Https 协议需要 ca 证书，费用较高；
- - http 是超文本传输协议，信息是明文传输，https 则是具有安全性的 ssl 加密传输协议；
- - 使用不同的链接方式，端口也不同，一般而言，http 协议的端口为 80，https 的端口为 443；
- - http 的连接很简单，是无状态的；HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，比 http 协议安全。
- 在网络请求中，需要有很多服务器、路由器的转发。其中的节点都可能篡改信息，而如果使用 HTTPS，秘钥在终点站才有。HTTPS 之所以比 HTTP 更安全，是因为它使用 SSL/TLS 协议传输。它包含证书、卸载、流量转发、负载均衡、页面适配、浏览器适配、refer 传递等技术，保障了传输过程的安全性。

> https 协议的优点

- 使用 HTTPS 协议可认证用户和服务器，确保数据发送到正确的客户机和服务器；
- HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议，要比 http 协议安全，可防止数据在传输过程中不被窃取、改变，确保数据的完整性。
- HTTPS 是现行架构下最安全的解决方案，虽然不是绝对安全，但它大幅增加了中间人攻击的成本。
- 比起同等 HTTP 网站，采用 HTTPS 加密的网站在搜索结果中的排名将会更高”
  > https 协议的缺点
- https 握手阶段比较费时，会使页面加载时间延长 50%，增加 10%~20%的耗电。
- https 缓存不如 http 高效，会增加数据开销。
- SSL 证书也需要钱，功能越强大的证书费用越高。
  SSL 证书需要绑定 IP，不能再同一个 ip 上绑定多个域名，ipv4 资源支持不了这种消耗。

### TCP 三次握手，一句话概括

- 客户端和服务器都需要知道各自可收发，因此需要三次握手。
- 简化三次握手：

<html>
<img width="600" height="300" alt="三次握手" src="https://user-images.githubusercontent.com/17233651/42496289-1c6d668a-8458-11e8-98b3-65db50f64d48.png">
</html>

- 为了准确无误的把数据送达目标处,TCP 采用了三次握手策略。用 TCP 把数据包发送出去后，TCP 不会对发送后的数据置之不理，它一定会向对方确认是否成功送达。握手过程中使用了 TCP 的标志，即 SYN 和 ACK。
- 发送端首先给接收端发送一个带 SYN 标识的数据包。接收端收到后，回传一个带有 SYN-ACK 标志的数据包以表示正确传达，并确认信息。最后，发送端再回传一个带有 ACK 标志的数据包，代表握手结束。若在握手过程中的某个阶段莫名中断，TCP 会再次以相同的顺序发送相同的数据包。
- 断开一个 TCP 连接则需要‘四次挥手’，当被动方收到主动方的 FIN 报文通知时，它仅仅表示主动方没有数据再发送给被动方了。但未必被动方所有的数据都完整的发送给了主动方，所以被动方不会马上关闭 SOCKET,它可能还需要发送一些数据给主动方后，再发送 FIN 报文给主动方，告诉主动方同意关闭连接，所以这里的 ACK 报文和 FIN 报文多数情况下都是分开发送的。

### 四次挥手

- 四次挥手：由于 TCP 连接是全双工的，断开一个 TCP 连接，需要客户端与服务器发送四个包来确认连接的断开，每个方向都要单独关闭。

1. Client 报文段数据传输完毕需要断开连接，向其 TCP 发出连接释放报文段（FIN=1, 序号 seq=u），并停止再发送数据，主动关闭 TCP 连接，进入 FIN_WAIT_1 状态，等待 Server 的确认；
2. Server 收到连接释放报文段后即发出确认报文段（ACK=1，确认号 ack=u+1, 序号 seq=v）, Server 进入 CLOSE_WAIT 状态，此时的 TCP 处于半关闭状态，Client 到 Server 的连接释放。而 Client 收到 Server 的确认后，进入 FIN_WAIT_2 状态，等待 Server 发出的连接释放报文段。
3. 当 Server 数据传输完毕后，发出连接释放报文段（FIN=1，ACK=1，序号 seq=w，确认号 ack=u+1）, Server 进入 LAST_ACK 状态，等待 Client 的再次确认。
4. Client 收到 Server 的连接释放报文段后，对此发出确认报文段（ACK=1，seq=u+1, ack=w+1）,Client 进入 TIME_WAIT 状态，此时 TCP 未释放掉，需要经过时间等待计时器设置的时间 2MSL 后，Client 才进入 CLOSE 状态

### HTTP 和 HTTPS 之间有什么联系，他们的端口号是什么

- http 通常承载于 TCP 之上，在 HTTP 和 TCP 之间添加一个安全协议层（SSL 或 TLS），这个时候，就成了我们常说的 HTTPS，HTTP 默认端口是 80，HTTPS 默认端口号是 443

### 为什么 HTTPS 更安全

- 在网络请求中，需要有很多服务器、路由器的转发。其中的节点都可能篡改信息，而如果使用 HTTPS，秘钥在终点站才有。HTTPS 之所以比 HTTP 更安全，是因为它使用 SSL/TLS 协议传输。它包含证书、卸载、流量转发、负载均衡、页面适配、浏览器适配、refer 传递等技术，保障了传输过程的安全性

### 关于 HTTP/2 你知道多少

- HTTP/2 引入了‘服务器端推送’（server push）的概念，它允许服务器端在客户端需要数据前主动将数据发送到客户端缓存中，从而提高性能
- HTTP/2 提供更多的加密支持
- HTTP/2 使用多路技术，允许多个消息在一个连接上同时交叉
- 它增加了头压缩，因此请求非常小，请求和响应的 header 只占很小的带宽比例

### 输出你知道的 HTTP 常见状态码。

- 100 Continue 表示继续，一般在 post 请求时，已发送了 HTTP header 之后，服务器端将返回此消息，表示确认，之后发送具体参数信息
- 200 OK 表示正常返回信息
- 201 Created 表示请求成功并在服务器创建了新的资源
- 202 Accepted 表示服务器已接收请求，但并未处理
- 302 Found 表示临时重定向
- 403 Forbidden 表示禁止访问
- 404 Not Found 表示找不到如何与 URI 相匹配的资源
- 500 Internal Server error 表示最常见的服务器端错误

### 完整的 HTTP 事务流程是怎样的？

- 基本流程如下
  - 域名解析；发起 TCP 的三次握手；建立 TCP 连接后发起 HTTP 请求；
  - 服务器响应 HTTP 请求，浏览器得到 HTTP 代码；
  - 浏览器解析 HTML 代码，并请求 HTML 代码中的资源；
  - 浏览器对页面进行渲染并呈现给用户。

### 什么是 HTTP？

- http 是客户端和服务端之间进行数据传输的格式规范，表示‘超文本传输协议’

### 什么是 HTTP 无状态协议？如何克服 HTTP 无状态协议的缺陷？

- 无状态协议对于事务处理没有记忆能力，缺少状态意味着后续如果需要处理，需要前面提供的信息；
- 克服无状态协议缺陷的方法是通过 cookie 和会话保存信息

### HTTP 的请求报文和响应报文包含哪些部分？

- 请求报文三部分：
  - 请求行，包含请求方法、URL、HTTP 版本信息；请求首部字段；请求内容实体
- 响应报文三部分：
  - 状态行，包含 HTTP 版本、状态码、状态码的原因短语；响应首部字段、响应内容实体

### HTTP 中有哪些请求方式？

- GET：请求已经被 URI（统一资源定位符）识别的资源，可以通过 URL，给服务器端传递参数数据；
- POST：传输信息给服务器，主要功能与 GET 方法类似，但传输的数据量通常不受限制；
- PUT：传输文件，报文主体中包含文件内容，保存到对应 URI 位置；
- HEAD：活的报文首部，与 GET 方法类似，只是不返回报文主体，一般用于验证 URI 是否有效；
- DELETE：删除文件，与 PUT 方法相反，删除对应 URL 位置的文件；
- OPTIONS：查询相应 URI 支持的 HTTP 方法

### HTTP 协议中 1.0 版本规范与 1.1 版本规范的区别是什么？

- 在 HTTP1.0 中，当建立连接后，客户端发送一个请求，服务器端返回一个信息后就关闭连接，当浏览器下次请求的时候又要建立连接。显然这种不断建立连接的方式会造成很多问题。
- 在 HTTP1.1 中，引入了持续连接的概念。通过这种连接，浏览器可以在建立一个连接之后，发送请求并得到返回信息，然后再次发送请求并得到返回信息。也就是说，客户端可以连续发送多个请求，而不用等待每一个响应的到来。

### HTTP 的首部字段包括哪些类型？

- （1）通用首部字段（请求报文与响应报文都会使用的首部字段）。它包括以下几部分。
  - Date：创建报文的时间
  - Connection：连接的管理
  - Cache- Control：缓存的控制
  - Transfer- Encoding：报文主体的传输编码方式
- （2）请求首部字段（请求报文会使用的首部字段）。它包括以下几部分。
  - Host：请求资源所在服务器。
  - Accept：可处理的媒体类型。
  - Accept-Charset：可接受的字符集。
  - Accept- Encoding：可接受的内容编码。
  - Accept- Language：可接受的自然语言。
- （3）响应首部字段（响应报文会使用的首部字段）。它包括以下几部分
  - Accept- Ranges：可接受的字节范围。
  - Location：令客户端重新定向到的 URL。
  - Server : HTTP 服务器的安装信息
- （4）实体首部字段（请求报文与响应报文的实体部分使用的首部字段）。它包括以下几部分。
  - Allow：资源可支持的 HTTP 方法。
  - Content-Type：实体主体的类型。
  - Content- Encoding：实体主体使用的编码方式。
  - Content-Language：实体主体的自然语言。
  - Content- Length：实体主体的字节数。
  - Content- Range：实体主体的位置范围，一般用于发出部分请求时使用。

### 与 HTTPS 相比，HTTP 有什么缺点？

- HTTP 的缺点如下。
  - 通信使用明文，不加密，内容可能被窃听，也就是被抓包分析
  - 不验证通信方身份，可能被伪装
  - 无法验证报文完整性，可能被篡改

### 如何优化 HTTP 请求

- 利用负载均衡优化和加速 HTTP 应用请求；利用 HTTP 缓存来优化网站请求

### HTTP 协议有哪些特征？

- 支持客户端、服务器模式，简单灵活，无连接、无状态

### HTTP1.1 版本的新特性有哪些？

- 默认持久连接，节省通信量，只要客户端服务器端任意一端没有明确指出断开 TCP 连接，就一直保持连接，可以多次发送 HTTP 请求
- 管线化，客户端可以同时发送多个 HTTP 请求，而不用一个个等待响应
- 断点续传原理

### 说说 TCP 传输的三次握手、四次挥手策略

- 为了准确无误的把数据送达目标处,TCP 采用了三次握手策略。用 TCP 把数据包发送出去后，TCP 不会对发送后的数据置之不理，它一定会向对方确认是否成功送达。握手过程中使用了 TCP 的标志，即 SYN 和 ACK。
- 发送端首先给接收端发送一个带 SYN 标识的数据包。接收端收到后，回传一个带有 SYN-ACK 标志的数据包以表示正确传达，并确认信息。最后，发送端再回传一个带有 ACK 标志的数据包，代表握手结束。若在握手过程中的某个阶段莫名中断，TCP 会再次以相同的顺序发送相同的数据包。
- 断开一个 TCP 连接则需要‘四次挥手’，当被动方收到主动方的 FIN 报文通知时，它仅仅表示主动方没有数据再发送给被动方了。但未必被动方所有的数据都完整的发送给了主动方，所以被动方不会马上关闭 SOCKET,它可能还需要发送一些数据给主动方后，再发送 FIN 报文给主动方，告诉主动方同意关闭连接，所以这里的 ACK 报文和 FIN 报文多数情况下都是分开发送的。

### 说说 TCP 和 UDP 的区别

- TCP（Transmission control protocol，传输控制协议）是基于连接的协议，也就是说，在正式发送数据前，必须和对方建立可靠的连接。一个 TCP 连接必须要经过‘三次握手’才能建立起来
- UDP（User Datagram Protocol，用户数据报协议）是与 TCP 相对应的协议。它是面向非连接的协议，他不与对方建立连接，而是直接就把数据报发送出去。UDP 适用于一次只传送少量数据，对可靠性要求不高的应用环境。

### 一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？

- 当发送一个 URL 请求时，不管这个 URL 是 Web 页面的 URL 还是 Web 页面上每个资源的 URL，浏览器都会开启一个线程来处理这个请求同时在远程 DNS 服务器上启动一个 DNS 查询这能使浏览器获得对应的 IP 地址
- 浏览器与远程 web 服务器通过 TCP 三次握手建立一个可靠的 TCP 连接。该握手包含一个同步报文，一个同步、应答报文，一个应答报文，这 3 个报文在浏览器和服务器之间传递。该握手首先由客户端尝试建立起通信，然后服务器应答并接受客户端的请求，最后由客户端发出已经接受该请求的报文。
- 一旦 TCP/IP 连接建立，浏览器会通过该连接向远程服务器发送 HTTP 的 GET 请求。远程服务器找到资源并使用 HTTP 响应返回该资源，值为 200 的 HTTP 响应状态码表示一个正确的响应
- 此时 web 服务器提供资源服务，客户端开始下载资源。请求返回后，便进入了浏览器端模块。浏览器会解析 HTML 生成 DOM Tree，其次会根据 CSS 生成 CSS 规则树，而 JavaScript 又可以根据 DOM API 操作 DOM。

### 网络分层模型有哪七层？

- 七层分别是应用（ Application）层、表示（ Presentation）层、会话（ Session）层传输（ Transport）层、网络（ Network）层、数据链路（Link）层和物理（ Physical）层。

### 网络七层模型中，你所熟知的协议有哪些？

- ICMP，即因特网控制报文协议。它是 TCP/IP 协议族的一个子协议，用于在 IP 主机、路由器之间传递控制消息。
- TFTP，即 TCPP 协议族中一个用来在客户机与服务器之间进行简单文件传输的协议，提供不复杂、开销不大的文件传输服务。
- HTTP，即超文本传输协议，是一个属于应用层的面向对象的协议，由于其简捷快速的方式，适用于分布式超媒体信息系统。
- DHCP，即动态主机配置协议，是一种让系统得以连接到网络并获取所需要配置参数的手段。

### 什么是反向代理？

- 反向代理（ Reverse Proxy）是指通过代理服务器来接收互联网上的连接请求，然后将请求转发给内部网络上的服务器，并把从服务器上得到的结果返回给互联网上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。

### post 与 get 请求

- get 请求在浏览器回退时时无害的，而 POST 会再次提交请求
- get 请求会被浏览器缓存 cache，而 post 不会，除非手动配置
- get 请求在不同浏览器的地址栏里面是有长度限制的，而 post 没有
- get 通过 url 传递参数，而 post 通过请求头 request body
- get 相比 post 更不安全，因为是直接暴露在 url 上，所以不易传递敏感信息
- get 请求一般用于请求去获取数据，post 易班发送数据到后台修改时使用

### RestFul API 规范

1. 每一个 URI 代表一种资源;
2. 同一种资源有多种表现形式(xml/json);
3. 所有的操作都是无状态的。
4. 规范统一接口。
5. 返回一致的数据格式。
6. 可缓存(客户端可以缓存响应的内容)。
